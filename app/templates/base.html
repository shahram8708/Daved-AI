
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}{% endblock %} · Daved AI</title>

  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>

  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

  
  <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">

  <meta name="csrf-token" content="{{ csrf_token() }}">

  
  <style>
    :root{
      --bg:#0b0f1a;
      --bg-soft:#0f1526;
      --card:#121a2d;
      --line:#1b2540;
      --text:#d7e3ff;
      --muted:#9bb0d8;
      --primary:#7c4dff;
      --cyan:#24e1ff;
      --grad-1:#6a00ff;
      --grad-2:#00e1ff;
      --grad-3:#8a2be2;
      --success:#2ecc71;
      --warning:#ffc107;
      --danger:#ff6b6b;
    }


    
    .tech-grid::before{
      content:""; position:absolute; inset:0; pointer-events:none; mix-blend:overlay;
      background:
        linear-gradient(transparent 95%, rgba(255,255,255,.04) 95%) 0 0/100% 2px,
        linear-gradient(90deg, transparent 95%, rgba(255,255,255,.04) 95%) 0 0/2px 100%;
    }
    .scanline::after{
      content:""; position:absolute; inset:0; pointer-events:none; opacity:.2;
      background: linear-gradient(rgba(255,255,255,.05), rgba(255,255,255,0) 80%);
      animation: scan 6s linear infinite;
    }
    @keyframes scan{0%{transform:translateY(-100%)}100%{transform:translateY(100%)}}

    
    .neon{
      background: linear-gradient(135deg, var(--grad-1), var(--grad-2), var(--grad-3));
      background-size:200% 200%;
      animation: gradientMove 10s ease infinite;
    }
    @keyframes gradientMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

    
    .navbar-glass{
      --bs-navbar-color: var(--text);
      --bs-navbar-hover-color: #fff;
      --bs-navbar-active-color: #fff;
      backdrop-filter: blur(10px);
      background:
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)),
        rgba(7,10,20,.6);
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .navbar-brand{
      font-weight:800; letter-spacing:.2px;
      display:flex; align-items:center; gap:.5rem;
    }
    .brand-dot{ width:10px; height:10px; border-radius:50%; background:radial-gradient(circle at 30% 30%, var(--cyan), var(--primary)); box-shadow: 0 0 18px rgba(124,77,255,.8); }
    .nav-link{
      position:relative; padding:.6rem .8rem; border-radius: .6rem; transition: color .2s ease, background .2s ease;
    }
    .nav-link:hover{ background: rgba(124,77,255,.12); }
    .nav-link.active::after, .nav-link:hover::after{
      content:""; position:absolute; left:12px; right:12px; bottom:6px; height:2px;
      background: linear-gradient(90deg, var(--grad-1), var(--grad-2));
      border-radius:2px;
    }
    .dropdown-menu{
      background: #0e152a; border:1px solid rgba(255,255,255,.08);
      box-shadow: 0 18px 60px rgba(0,0,0,.35);
    }
    .dropdown-item{ color: var(--text); }
    .dropdown-item:hover{ background: rgba(124,77,255,.12); color:#fff; }

    
    .btn-neon{
      --bs-btn-bg: transparent; --bs-btn-border-color: rgba(124,77,255,.5); --bs-btn-color:#fff;
      border:1px solid var(--bs-btn-border-color); backdrop-filter: blur(6px);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.04), 0 0 20px rgba(124,77,255,.25);
      transition: transform .25s, box-shadow .25s, border-color .25s;
    }
    .btn-neon:hover{ transform: translateY(-2px); border-color: var(--cyan); box-shadow: 0 8px 30px rgba(36,225,255,.25); }
    .btn-solid{
      background: linear-gradient(135deg, var(--grad-1), var(--grad-2));
      border:0; color:#fff; box-shadow: 0 6px 30px rgba(124,77,255,.35);
      transition: transform .25s, filter .25s;
    }
    .btn-solid:hover{ filter: brightness(1.08); transform: translateY(-2px); }

    
    .panel{
      background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)), var(--card);
      border: 1px solid rgba(255,255,255,.06); border-radius: 16px; position:relative; overflow:hidden;
      transition: transform .35s cubic-bezier(.2,.8,.2,1), box-shadow .35s, border-color .35s;
    }
    .panel:hover{ transform: translateY(-4px); box-shadow: 0 16px 60px rgba(0,0,0,.35), 0 0 60px rgba(124,77,255,.15); border-color: rgba(124,77,255,.35); }
    .panel-header{ border-bottom:1px solid rgba(255,255,255,.06); background:#0b1224; padding:.9rem 1rem; }
    .panel-title{ margin:0; display:flex; align-items:center; gap:.6rem; font-weight:700; }
    .ico{
      width:40px; height:40px; display:grid; place-items:center; border-radius:12px; color:#fff;
      background: radial-gradient(circle at 30% 30%, rgba(36,225,255,.25), rgba(124,77,255,.45));
      filter: url(#glow);
    }

    
    .table-dark-glass{ --bs-table-bg: transparent; --bs-table-color: var(--text); }
    .table-dark-glass td, .table-dark-glass th{ border-color: rgba(255,255,255,.06); vertical-align: middle; }
    .table-dark-glass tbody tr{ transition: background-color .2s ease, transform .2s ease; }
    .table-dark-glass tbody tr:hover{ background: rgba(124,77,255,.08); transform: translateY(-1px); }

    
    .badge-chip{
      display:inline-flex; align-items:center; gap:.5rem; padding:.35rem .65rem; border-radius:999px;
      background: rgba(124,77,255,.12); border:1px solid rgba(124,77,255,.25); color:var(--muted);
      font-weight:600; font-size:.9rem;
    }

    
    .form-control, .form-select{
      background:#0e162b; border:1px solid rgba(255,255,255,.08); color:var(--text); border-radius:12px; padding:.85rem 1rem;
    }
    .form-control:focus, .form-select:focus{
      border-color: rgba(36,225,255,.6); box-shadow: 0 0 0 .25rem rgba(36,225,255,.15); background:#0f182f; color:#fff;
    }

    
    .alert{
      border:1px solid rgba(255,255,255,.12); border-radius:12px; backdrop-filter: blur(6px);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      color:#fff;
    }

    
    footer{
      border-top:1px solid rgba(255,255,255,.08);
      background:
        linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,.00)),
        #0a0f1d;
    }
    .footer-link{
      color: var(--muted); text-decoration: none; transition: color .2s ease, transform .2s ease;
    }
    .footer-link:hover{ color:#fff; transform: translateY(-1px); }

    
    .reveal{ opacity:0; transform: translateY(18px) scale(.98); transition: opacity .7s ease, transform .7s ease; }
    .reveal.in-view{ opacity:1; transform: none; }
    .tilt{ will-change: transform; }

  </style>

  {% block styles %}{% endblock %}
</head>
<body>

  
  <svg aria-hidden="true" class="d-none">
    <defs>
      <filter id="glow" x="-40%" y="-40%" width="180%" height="180%">
        <feGaussianBlur stdDeviation="3.5" result="coloredBlur" />
        <feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge>
      </filter>

      
      <symbol id="i-github" viewBox="0 0 24 24">
        <path d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58 0-.29-.01-1.06-.02-2.07-3.34.73-4.04-1.61-4.04-1.61-.55-1.39-1.35-1.76-1.35-1.76-1.1-.76.08-.74.08-.74 1.21.08 1.85 1.24 1.85 1.24 1.08 1.85 2.83 1.32 3.52 1.01.11-.79.42-1.32.77-1.63-2.67-.31-5.47-1.34-5.47-5.97 0-1.32.47-2.39 1.24-3.23-.13-.31-.54-1.56.12-3.26 0 0 1.01-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.66 1.7.25 2.95.12 3.26.77.84 1.24 1.91 1.24 3.23 0 4.64-2.8 5.66-5.48 5.97.43.37.82 1.1.82 2.22 0 1.61-.01 2.91-.01 3.3 0 .32.22.7.83.58A12 12 0 0 0 12 .5Z" fill="currentColor"/>
      </symbol>
      <symbol id="i-x" viewBox="0 0 24 24">
        <path d="M3 3h4.6l5.3 7.1L17.4 3H21l-7.3 9.7L21 21h-4.6l-5.4-7.2L6.6 21H3l7.4-9.7L3 3Z" fill="currentColor"/>
      </symbol>
      
      <symbol id="i-shield" viewBox="0 0 24 24"><path d="M12 3l8 3v6c0 5-3.5 9-8 9s-8-4-8-9V6l8-3z" fill="none" stroke="currentColor" stroke-width="2"/></symbol>
      <symbol id="i-home" viewBox="0 0 24 24"><path d="M3 11l9-7 9 7v9a2 2 0 0 1-2 2h-4v-6H9v6H5a2 2 0 0 1-2-2z" stroke="currentColor" stroke-width="2" fill="none"/></symbol>
    </defs>
  </svg>

  
  <nav class="navbar navbar-expand-lg navbar-dark navbar-glass sticky-top">
    <div class="container">
      <a class="navbar-brand" href="{{ url_for('main.index') }}">
        <span class="brand-dot"></span> Daved AI
      </a>
      <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item"><a class="nav-link {% if request.endpoint == 'main.index' %}active{% endif %}" href="{{ url_for('main.index') }}">Home</a></li>
          {% if current_user.is_authenticated %}
            <li class="nav-item"><a class="nav-link {% if request.endpoint == 'main.dashboard' %}active{% endif %}" href="{{ url_for('main.dashboard') }}">Dashboard</a></li>
            <li class="nav-item"><a class="nav-link {% if request.endpoint and request.endpoint.startswith('codegen.') %}active{% endif %}" href="{{ url_for('codegen.index') }}">Code Generator</a></li>

            {% if current_user.is_admin %}
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle {% if request.endpoint and request.endpoint.startswith('admin.') %}active{% endif %}" href="#" role="button" data-bs-toggle="dropdown">
                <i class="bi bi-shield-lock me-1"></i> Admin
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{{ url_for('admin.dashboard') }}">Dashboard</a></li>
                <li><a class="dropdown-item" href="{{ url_for('admin.user_management') }}">User Management</a></li>
                <li><a class="dropdown-item" href="{{ url_for('admin.admin_activities') }}">Admin Activities</a></li>
                <li><a class="dropdown-item" href="{{ url_for('admin.feature_flags') }}">Feature Flags</a></li>
                <li><a class="dropdown-item" href="{{ url_for('admin.project_management') }}">Project Management</a></li>
              </ul>
            </li>
            {% endif %}
          {% endif %}
        </ul>

        <ul class="navbar-nav align-items-lg-center gap-lg-1">
          {% if current_user.is_authenticated %}
            {% if current_user.is_authenticated %}
              {% include 'includes/theme_toggle.html' %}
            {% endif %}
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle d-flex align-items-center" href="#" role="button" data-bs-toggle="dropdown">
                <i class="bi bi-person-circle me-1"></i> {{ current_user.username }}
              </a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="{{ url_for('main.profile') }}"><i class="bi bi-gear me-2"></i>Profile</a></li>
                <li><a class="dropdown-item" href="{{ url_for('main.projects') }}"><i class="bi bi-folder me-2"></i>My Projects</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item" href="{{ url_for('auth.logout') }}"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
              </ul>
            </li>
          {% else %}
            <li class="nav-item"><a class="nav-link" href="{{ url_for('auth.login') }}">Login</a></li>
            <li class="nav-item ms-lg-1"><a class="btn btn-solid btn-sm rounded-pill px-3" href="{{ url_for('auth.register') }}">Register</a></li>
          {% endif %}
        </ul>
      </div>
    </div>
  </nav>

  
  <main class="container my-4">
    
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show reveal">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  
  <footer class="py-4 mt-5">
    <div class="container">
      <div class="row gy-3 align-items-center">
        <div class="col-md-4">
          <div class="d-flex align-items-center gap-2">
            <strong class="fs-5">Daved AI</strong>
            <span class="small" style="color: var(--muted);">© {{ 2025 if false else 2024 }}–{{ 2025 }}</span>
          </div>
          <small style="color: var(--muted);">Generate full projects from a single prompt.</small>
        </div>
        <div class="col-md-5">
          <ul class="nav justify-content-md-center">
            <li class="nav-item"><a class="nav-link px-2 footer-link" href="#">Docs</a></li>
            <li class="nav-item"><a class="nav-link px-2 footer-link" href="#">Pricing</a></li>
            <li class="nav-item"><a class="nav-link px-2 footer-link" href="#">Changelog</a></li>
            <li class="nav-item"><a class="nav-link px-2 footer-link" href="#">Support</a></li>
          </ul>
        </div>
        <div class="col-md-3 d-flex gap-3 justify-content-md-end">
          <a class="footer-link" href="#" aria-label="GitHub">
            <svg width="22" height="22"><use href="#i-github"></use></svg>
          </a>
          <a class="footer-link" href="#" aria-label="X">
            <svg width="22" height="22"><use href="#i-x"></use></svg>
          </a>
        </div>
      </div>
    </div>
  </footer>

  
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  
  <script src="{{ url_for('static', filename='js/scripts.js') }}"></script>

  
  <script>
    
    (function(){
      const els = document.querySelectorAll('.reveal');
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){ e.target.classList.add('in-view'); io.unobserve(e.target); }
        });
      }, { threshold: .15 });
      els.forEach(el=>io.observe(el));
    })();

    
    (function(){
      function tilt(el){
        let rect=null;
        el.addEventListener('mousemove', e=>{
          if(!rect) rect = el.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width - .5;
          const y = (e.clientY - rect.top) / rect.height - .5;
          el.style.transform = `perspective(800px) rotateX(${(-y*5).toFixed(2)}deg) rotateY(${(x*5).toFixed(2)}deg) translateY(-4px)`;
        });
        el.addEventListener('mouseleave', ()=>{ el.style.transform=""; rect=null; });
      }
      document.querySelectorAll('.tilt').forEach(tilt);
    })();

    
    (function(){
      const alerts = document.querySelectorAll('.alert');
      alerts.forEach(a=>{ setTimeout(()=>{ try{ new bootstrap.Alert(a).close(); }catch(e){} }, 5000); });
    })();
  </script>

  {% block scripts %}{% endblock %}
</body>
</html>
